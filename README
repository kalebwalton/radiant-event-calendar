INSTALLATION 

1. Checkout extension using svn (you may have already done this): svn co http://svn.fn-group.com/radiant_extensions/event_calendar

2. Create public/icals directory. This is configurable via Radiant::Config["event_calendar.icals_path"], but this is the default value.

3. Migrate extensions: rake db:migrate:extensions

4. From Admin navigate to your new "Event Calendars" tab and click "Add a Calendar". You'll need your iCal subscription URL at this point.

5. You can manually refresh the calendar from the subscription once you've saved by clicking on the Refresh link. You may wish to setup a cron job to do this: script/runner -e production "Calendar::refresh_all"

* The handling of all paths below the node where the Event Calendar Page type gets applied are overridden to capture the calendar "category" and "slug". So, if you create a page under Root > Calendar and apply the EventCalendar page type to it, then through admin create a calendar with the category of "master" and a name of "youth" you'll be able to access your calendar at http://yoursite.com/calendar/master/youth. Also, you'll also be able to see events for all calendars with a category of "master" by navigating to http://yoursite.com/calendar/master/all. 

* For add'l documentation please refer to the Radiant tag reference for the <r:calendar /> tags.
  
  
IN THE FUTURE

* virtual page for single page view for each Event, possibly adding ability to associate an Event with a particular Radiant page also.
* manual event entry screens. Allow manual events to be mixed in with events from subscriptions.
* tag to create link to source ical file (for offering subscription link)


AN EXAMPLE EVENT-CALENDAR IMPLEMENTATION

<r:calendar>
<div id="calendarNav">
<table>
<tr>
  <td class="h3">
        <r:calendar:nav:week_link class="navLink" /> | 
        <r:calendar:nav:month_link class="navLink" /> | 
        <r:calendar:nav:year_link class="navLink" /> 
  </td>
<r:if_request_uri matches="^/calendars/parish">
  <td style="text-align:right;" class="h3">
      <a style="margin-right:0px;" class="navLink" href="/parish-events/submit">submit event</a> 
  </td>
</r:if_request_uri>
</tr>
<tr style="display:none;">
  <td colspan="2">
    <h3><span style="text-transform:uppercase;"><r:name /></span> | <span style="margin-right:0px;"><r:begin_date format="%d %B" /> - <r:end_date format="%d %B" /></span></h3>
  </td>
</tr>
</table>
</div>
<div id="eventList">
 <r:event:each>
    <div class="eventBox">
    <r:header><h5><r:start format="%d %B, %A" /></h5></r:header>
    <table class="event" id="event<r:id />" onclick="toggleVisible('detail<r:id />'); Effect.Highlight('event<r:id />'); return false;">
      <tr>
        <td style="text-transform:uppercase;width:180px;">
          <r:calendar_name />
        </td>
        <td style="">
          <r:title />
        </td>
     </tr>
     <tr>
        <td style="text-transform:uppercase;width:180px;">
        </td>
        <td>
         <div id="detail<r:id />" class="detail">
           <r:timeperiod format="%I:%M %p" /><br />
           <r:location /><br />
           <r:description />
         </div>
       </td>
     </tr>
   </table>
   </div>
  </r:event:each>
</div>
</r:calendar>

